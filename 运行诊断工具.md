# 运行诊断工具 - 手动执行步骤

由于我无法直接运行 Unity 编辑器中的工具，以下是手动执行诊断和清理的步骤：

## 步骤 1: 检查包兼容性（手动执行）

### 1.1 检查当前 manifest.json
```bash
# 查看当前包配置
cat Packages/manifest.json | grep -A2 -B2 "xr\|interaction"
```

### 1.2 检查版本兼容性
当前配置：
- Unity 版本: 2022.3.62f3c1
- AR Foundation: 5.1.0 ✓ (兼容)
- XR Interaction Toolkit: 3.1.2 ✓ (与示例匹配)
- 其他包: 都已添加必要依赖

### 1.3 检查示例文件夹
```bash
# 检查示例文件夹大小
du -sh Assets/Samples/
find Assets/Samples/ -name "*.cs" | wc -l
```

## 步骤 2: 清理临时文件（手动执行）

### 2.1 检查临时文件夹大小
```bash
# 检查各临时文件夹
du -sh Library/ 2>/dev/null || echo "Library/ 不存在"
du -sh Temp/ 2>/dev/null || echo "Temp/ 不存在"
du -sh Obj/ 2>/dev/null || echo "Obj/ 不存在"
du -sh Build/ 2>/dev/null || echo "Build/ 不存在"
```

### 2.2 安全清理建议
**可以安全删除的**:
- Temp/
- Obj/
- Build/
- Builds/

**需要谨慎的**:
- Library/ (删除后需要重新导入项目)

## 步骤 3: 检查冗余脚本（手动执行）

### 3.1 检查 Samples 文件夹
```bash
# 检查 Samples 内容
find Assets/Samples -type f -name "*.cs" | head -10
find Assets/Samples -type f -name "*.dll" | head -5
```

### 3.2 检查 Plugins 文件夹
```bash
# 检查平台特定插件
ls -la Assets/Plugins/ 2>/dev/null || echo "无 Plugins 文件夹"
```

## 步骤 4: 创建干净备份（手动执行）

### 4.1 创建备份目录
```bash
BACKUP_NAME="Backup_$(date +%Y%m%d_%H%M%S)"
BACKUP_PATH="../${BACKUP_NAME}"
echo "备份路径: ${BACKUP_PATH}"
```

### 4.2 复制关键文件
```bash
# 创建目录
mkdir -p "${BACKUP_PATH}"

# 复制关键文件夹
cp -r Assets/ "${BACKUP_PATH}/" 2>/dev/null
cp -r ProjectSettings/ "${BACKUP_PATH}/" 2>/dev/null
cp -r Packages/ "${BACKUP_PATH}/" 2>/dev/null

# 排除临时文件
rm -rf "${BACKUP_PATH}/Library" 2>/dev/null
rm -rf "${BACKUP_PATH}/Temp" 2>/dev/null
```

## 立即执行的诊断命令

让我运行这些诊断命令：