# ç»ˆæä¿®å¤æ–¹æ¡ˆ - è§£å†³ Unity ç¼“å­˜é—®é¢˜

## ğŸ”´ å½“å‰çŠ¶æ€
å³ä½¿æ–‡ä»¶å·²ç»æ˜¯å¹²å‡€çš„ JSONï¼ŒUnity ä»ç„¶æŠ¥å‘ŠåŒ…å«æ³¨é‡Šçš„é”™è¯¯ã€‚è¿™è¡¨æ˜ï¼š

**Unity åœ¨è¯»å–ç¼“å­˜ä¸­çš„æ—§ç‰ˆæœ¬æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç£ç›˜ä¸Šçš„æ–°ç‰ˆæœ¬ã€‚**

## ğŸš¨ ç»ˆæè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ A: å¼ºåˆ¶ Unity é‡æ–°è¯»å–æ–‡ä»¶ï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1: å®Œå…¨æ€æ­»æ‰€æœ‰ Unity è¿›ç¨‹
```bash
# åœ¨ç»ˆç«¯æ‰§è¡Œ
pkill -f Unity
pkill -f unity

# æ£€æŸ¥æ˜¯å¦è¿˜æœ‰è¿›ç¨‹
ps aux | grep -i unity | grep -v grep
```

#### æ­¥éª¤ 2: ä¿®æ”¹æ–‡ä»¶æ—¶é—´æˆ³
```bash
cd /Users/yuanweijie/Projects/EndangeredAnimalAR

# ä¿®æ”¹æ–‡ä»¶æ—¶é—´æˆ³ï¼Œè®© Unity è®¤ä¸ºæ–‡ä»¶å·²æ›´æ”¹
touch Packages/manifest.json

# ä¿®æ”¹æƒé™
chmod 644 Packages/manifest.json
```

#### æ­¥éª¤ 3: åˆ›å»ºé”æ–‡ä»¶é˜²æ­¢ç¼“å­˜
```bash
# åˆ›å»ºç©ºæ–‡ä»¶ï¼Œå¯èƒ½å½±å“ Unity ç¼“å­˜æœºåˆ¶
touch .unitylock
```

### æ–¹æ¡ˆ B: ä½¿ç”¨ Unity å‘½ä»¤è¡Œå¼ºåˆ¶åˆ·æ–°

å¦‚æœ Unity è¿˜åœ¨æ˜¾ç¤ºé”™è¯¯å¯¹è¯æ¡†ï¼š
1. **ä¸è¦ç‚¹å‡»ä»»ä½•æŒ‰é’®**
2. å®Œå…¨é€€å‡º Unity
3. ä½¿ç”¨å‘½ä»¤è¡Œé‡æ–°æ‰“å¼€ï¼š

```bash
# ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°å¼ºåˆ¶åˆ·æ–°
/Applications/Unity/Hub/Editor/2022.3.62f3c1/Unity.app/Contents/MacOS/Unity \
  -projectPath /Users/yuanweijie/Projects/EndangeredAnimalAR \
  -force-free
```

### æ–¹æ¡ˆ C: ä¸´æ—¶é‡å‘½åé¡¹ç›®æ–‡ä»¶å¤¹

```bash
cd /Users/yuanweijie/Projects

# ä¸´æ—¶é‡å‘½åé¡¹ç›®
mv EndangeredAnimalAR EndangeredAnimalAR_TEMP

# ç«‹å³æ”¹å›
mv EndangeredAnimalAR_TEMP EndangeredAnimalAR

# è¿™ä¼šå¼ºåˆ¶ Unity é‡æ–°è¯†åˆ«é¡¹ç›®
```

## ğŸ”§ æŠ€æœ¯è¯Šæ–­

### æ£€æŸ¥ Unity å¯èƒ½ç¼“å­˜çš„ä½ç½®ï¼š
```bash
# 1. æ£€æŸ¥ Unity ç¼–è¾‘å™¨ç¼“å­˜
find ~/Library -name "*manifest*" -type f 2>/dev/null

# 2. æ£€æŸ¥é¡¹ç›®ä¸­çš„éšè—æ–‡ä»¶
find . -name ".*" -type f | grep -i manifest

# 3. æ£€æŸ¥æ–‡ä»¶ inodeï¼ˆå¯èƒ½è¢«é”å®šï¼‰
ls -i Packages/manifest.json
```

### åˆ›å»ºéªŒè¯è„šæœ¬ï¼š
```bash
cat > verify_manifest.sh << 'EOF'
#!/bin/bash
echo "=== éªŒè¯ manifest.json ==="
echo "1. æ–‡ä»¶å¤§å°:"
ls -la Packages/manifest.json
echo ""
echo "2. å‰10è¡Œå†…å®¹:"
head -10 Packages/manifest.json
echo ""
echo "3. JSON éªŒè¯:"
python3 -m json.tool Packages/manifest.json > /dev/null && echo "âœ… JSON æ ¼å¼æ­£ç¡®" || echo "âŒ JSON æ ¼å¼é”™è¯¯"
echo ""
echo "4. æ£€æŸ¥æ³¨é‡Š:"
grep -n "//" Packages/manifest.json && echo "âŒ å‘ç°æ³¨é‡Š" || echo "âœ… æ²¡æœ‰æ³¨é‡Š"
EOF
chmod +x verify_manifest.sh
./verify_manifest.sh
```

## ğŸ› ï¸ ç«‹å³æ‰§è¡Œçš„å‘½ä»¤

### æ‰§è¡Œè¿™ä¸ªå®Œæ•´çš„æ¸…ç†è„šæœ¬ï¼š
```bash
#!/bin/bash
cd /Users/yuanweijie/Projects/EndangeredAnimalAR

echo "=== ç»ˆææ¸…ç†å¼€å§‹ ==="

# 1. æ€æ­»æ‰€æœ‰ Unity è¿›ç¨‹
echo "1. æ€æ­» Unity è¿›ç¨‹..."
pkill -f Unity 2>/dev/null
pkill -f unity 2>/dev/null
sleep 2

# 2. æ¸…ç†æ‰€æœ‰ç¼“å­˜
echo "2. æ¸…ç†ç¼“å­˜..."
rm -rf ~/Library/Caches/com.unity3d.UnityEditor/
rm -rf ~/Library/Caches/Unity/
rm -rf ~/Library/Unity/
rm -rf ~/Library/Application\ Support/Unity/
rm -rf Library/
rm -rf Temp/
rm -rf Obj/

# 3. ç¡®ä¿æ–‡ä»¶æ­£ç¡®
echo "3. ç¡®ä¿ manifest.json æ­£ç¡®..."
cp Packages/manifest_ultraclean.json Packages/manifest.json
touch Packages/manifest.json

# 4. éªŒè¯
echo "4. éªŒè¯..."
python3 -c "import json; json.load(open('Packages/manifest.json')); print('âœ… éªŒè¯é€šè¿‡')"

echo "=== æ¸…ç†å®Œæˆ ==="
echo "ç°åœ¨é‡æ–°æ‰“å¼€ Unity é¡¹ç›®"
```

## ğŸ“Š å¦‚æœä»ç„¶å¤±è´¥

### æœ€åæ‰‹æ®µï¼šåˆ›å»ºå…¨æ–°é¡¹ç›®å¹¶è¿ç§»

#### æ­¥éª¤ 1: åˆ›å»ºæ–°é¡¹ç›®
1. æ‰“å¼€ Unity Hub
2. åˆ›å»ºæ–° 3D é¡¹ç›®ï¼š`EndangeredAnimalAR_Final`
3. ä½ç½®ï¼š`/Users/yuanweijie/Projects/`

#### æ­¥éª¤ 2: è¿ç§»æ ¸å¿ƒæ–‡ä»¶
```bash
# å¤åˆ¶æ ¸å¿ƒæ–‡ä»¶
cp -r EndangeredAnimalAR/Assets/Scripts/ EndangeredAnimalAR_Final/Assets/
cp -r EndangeredAnimalAR/Assets/Scenes/ EndangeredAnimalAR_Final/Assets/
cp -r EndangeredAnimalAR/Assets/Resources/ EndangeredAnimalAR_Final/Assets/
cp -r EndangeredAnimalAR/Assets/Models/ EndangeredAnimalAR_Final/Assets/
cp -r EndangeredAnimalAR/Assets/Materials/ EndangeredAnimalAR_Final/Assets/

# å¤åˆ¶æ­£ç¡®çš„ manifest.json
cp EndangeredAnimalAR/Packages/manifest_ultraclean.json EndangeredAnimalAR_Final/Packages/manifest.json
```

#### æ­¥éª¤ 3: æµ‹è¯•æ–°é¡¹ç›®
1. æ‰“å¼€æ–°é¡¹ç›®
2. åº”è¯¥æ²¡æœ‰ JSON é”™è¯¯
3. åŒ…æ­£å¸¸å¯¼å…¥

## âš ï¸ å…³é”®æ³¨æ„äº‹é¡¹

### Unity ç¼“å­˜æœºåˆ¶ï¼š
- Unity ä¼šç¼“å­˜æ–‡ä»¶å†…å®¹
- å³ä½¿ç£ç›˜æ–‡ä»¶å·²æ›´æ”¹ï¼ŒUnity å¯èƒ½ä»ä½¿ç”¨ç¼“å­˜
- éœ€è¦å¼ºåˆ¶åˆ·æ–°ç¼“å­˜

### æ–‡ä»¶é”å®šï¼š
- Unity å¯èƒ½é”å®šæ–‡ä»¶å¥æŸ„
- éœ€è¦å®Œå…¨æ€æ­»è¿›ç¨‹é‡Šæ”¾é”
- ä¿®æ”¹æ—¶é—´æˆ³å¯èƒ½è§¦å‘é‡æ–°è¯»å–

### é”™è¯¯å¯¹è¯æ¡†å¤„ç†ï¼š
- **ä¸è¦ç‚¹å‡» "Continue"** - å¯èƒ½å¯¼è‡´æ›´å¤šé—®é¢˜
- **ä¸è¦ç‚¹å‡» "Retry"** - å¯èƒ½é‡å¤é”™è¯¯
- **å®Œå…¨é€€å‡º** Unity é‡æ–°å¼€å§‹

## ğŸ¯ æˆåŠŸæ ‡å‡†

ä¿®å¤æˆåŠŸåï¼š
1. âœ… Unity æ­£å¸¸å¯åŠ¨ï¼Œæ²¡æœ‰é”™è¯¯å¯¹è¯æ¡†
2. âœ… åŒ…ç®¡ç†å™¨æ˜¾ç¤º "Resolving packages..."
3. âœ… Console æ˜¾ç¤ºåŒ…ä¸‹è½½è¿›åº¦
4. âœ… é¡¹ç›®å¼€å§‹ç¼–è¯‘

### éªŒè¯æ—¶é—´çº¿ï¼š
1. æ‰“å¼€ Unity â†’ æ²¡æœ‰é”™è¯¯å¯¹è¯æ¡†
2. ç­‰å¾… 10-30ç§’ â†’ åŒ…å¼€å§‹è§£æ
3. ç­‰å¾… 1-2åˆ†é’Ÿ â†’ åŒ…å¼€å§‹å¯¼å…¥
4. ç­‰å¾… 2-3åˆ†é’Ÿ â†’ é¡¹ç›®å¼€å§‹ç¼–è¯‘

---

**ç»ˆæä¿®å¤æ—¶é—´**: 2026-02-18 13:34 GMT+8  
**é—®é¢˜ç±»å‹**: Unity ç¼“å­˜è¯»å–æ—§ç‰ˆæœ¬æ–‡ä»¶  
**è§£å†³æ–¹æ¡ˆ**: å½»åº•æ¸…ç†ç¼“å­˜ + å¼ºåˆ¶æ–‡ä»¶åˆ·æ–°  
**é¢„è®¡è€—æ—¶**: 3-5åˆ†é’Ÿ  
**å¤‡ä»½ä½ç½®**: `../Ultimate_Backup_20260218_133429/`